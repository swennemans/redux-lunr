!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";onmessage=function(t){var e=n(1),i=JSON.parse(t.data),o=i.options.index,r=i._toIndex,s=e(function(){var t=this;Object.keys(o).forEach(function(e){"ref"===e?(console.log("key is",o[e]),t.ref(o[e])):t.field(e,o[e])})});r.forEach(function(t){s.add(t)}),self.postMessage(JSON.stringify(s.toJSON()))}},function(t,e,n){var i,o;!function(){var r=function(t){var e=new r.Index;return e.pipeline.add(r.trimmer,r.stopWordFilter,r.stemmer),t&&t.call(e,e),e};r.version="0.5.12",/*!
	 * lunr.utils
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.utils={},r.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),/*!
	 * lunr.EventEmitter
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.EventEmitter=function(){this.events={}},r.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");n.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},r.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var n=this.events[t].indexOf(e);this.events[t].splice(n,1),this.events[t].length||delete this.events[t]}},r.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},r.EventEmitter.prototype.hasHandler=function(t){return t in this.events},/*!
	 * lunr.tokenizer
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.tokenizer=function(t){return arguments.length&&null!=t&&void 0!=t?Array.isArray(t)?t.map(function(t){return t.toLowerCase()}):t.toString().trim().toLowerCase().split(/[\s\-]+/):[]},/*!
	 * lunr.Pipeline
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.Pipeline=function(){this._stack=[]},r.Pipeline.registeredFunctions={},r.Pipeline.registerFunction=function(t,e){e in this.registeredFunctions&&r.utils.warn("Overwriting existing registered function: "+e),t.label=e,r.Pipeline.registeredFunctions[t.label]=t},r.Pipeline.warnIfFunctionNotRegistered=function(t){var e=t.label&&t.label in this.registeredFunctions;e||r.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},r.Pipeline.load=function(t){var e=new r.Pipeline;return t.forEach(function(t){var n=r.Pipeline.registeredFunctions[t];if(!n)throw new Error("Cannot load un-registered function: "+t);e.add(n)}),e},r.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){r.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},r.Pipeline.prototype.after=function(t,e){r.Pipeline.warnIfFunctionNotRegistered(e);var n=this._stack.indexOf(t);if(-1==n)throw new Error("Cannot find existingFn");n+=1,this._stack.splice(n,0,e)},r.Pipeline.prototype.before=function(t,e){r.Pipeline.warnIfFunctionNotRegistered(e);var n=this._stack.indexOf(t);if(-1==n)throw new Error("Cannot find existingFn");this._stack.splice(n,0,e)},r.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},r.Pipeline.prototype.run=function(t){for(var e=[],n=t.length,i=this._stack.length,o=0;n>o;o++){for(var r=t[o],s=0;i>s&&(r=this._stack[s](r,o,t),void 0!==r);s++);void 0!==r&&e.push(r)}return e},r.Pipeline.prototype.reset=function(){this._stack=[]},r.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return r.Pipeline.warnIfFunctionNotRegistered(t),t.label})},/*!
	 * lunr.Vector
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},r.Vector.Node=function(t,e,n){this.idx=t,this.val=e,this.next=n},r.Vector.prototype.insert=function(t,e){this._magnitude=void 0;var n=this.list;if(!n)return this.list=new r.Vector.Node(t,e,n),this.length++;if(t<n.idx)return this.list=new r.Vector.Node(t,e,n),this.length++;for(var i=n,o=n.next;void 0!=o;){if(t<o.idx)return i.next=new r.Vector.Node(t,e,o),this.length++;i=o,o=o.next}return i.next=new r.Vector.Node(t,e,o),this.length++},r.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,e=this.list,n=0;e;)t=e.val,n+=t*t,e=e.next;return this._magnitude=Math.sqrt(n)},r.Vector.prototype.dot=function(t){for(var e=this.list,n=t.list,i=0;e&&n;)e.idx<n.idx?e=e.next:e.idx>n.idx?n=n.next:(i+=e.val*n.val,e=e.next,n=n.next);return i},r.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},/*!
	 * lunr.SortedSet
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.SortedSet=function(){this.length=0,this.elements=[]},r.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},r.SortedSet.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},r.SortedSet.prototype.toArray=function(){return this.elements.slice()},r.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},r.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},r.SortedSet.prototype.indexOf=function(t){for(var e=0,n=this.elements.length,i=n-e,o=e+Math.floor(i/2),r=this.elements[o];i>1;){if(r===t)return o;t>r&&(e=o),r>t&&(n=o),i=n-e,o=e+Math.floor(i/2),r=this.elements[o]}return r===t?o:-1},r.SortedSet.prototype.locationFor=function(t){for(var e=0,n=this.elements.length,i=n-e,o=e+Math.floor(i/2),r=this.elements[o];i>1;)t>r&&(e=o),r>t&&(n=o),i=n-e,o=e+Math.floor(i/2),r=this.elements[o];return r>t?o:t>r?o+1:void 0},r.SortedSet.prototype.intersect=function(t){for(var e=new r.SortedSet,n=0,i=0,o=this.length,s=t.length,a=this.elements,h=t.elements;;){if(n>o-1||i>s-1)break;a[n]!==h[i]?a[n]<h[i]?n++:a[n]>h[i]&&i++:(e.add(a[n]),n++,i++)}return e},r.SortedSet.prototype.clone=function(){var t=new r.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},r.SortedSet.prototype.union=function(t){var e,n,i;return this.length>=t.length?(e=this,n=t):(e=t,n=this),i=e.clone(),i.add.apply(i,n.toArray()),i},r.SortedSet.prototype.toJSON=function(){return this.toArray()},/*!
	 * lunr.Index
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.Index=function(){this._fields=[],this._ref="id",this.pipeline=new r.Pipeline,this.documentStore=new r.Store,this.tokenStore=new r.TokenStore,this.corpusTokens=new r.SortedSet,this.eventEmitter=new r.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},r.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},r.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},r.Index.load=function(t){t.version!==r.version&&r.utils.warn("version mismatch: current "+r.version+" importing "+t.version);var e=new this;return e._fields=t.fields,e._ref=t.ref,e.documentStore=r.Store.load(t.documentStore),e.tokenStore=r.TokenStore.load(t.tokenStore),e.corpusTokens=r.SortedSet.load(t.corpusTokens),e.pipeline=r.Pipeline.load(t.pipeline),e},r.Index.prototype.field=function(t,e){var e=e||{},n={name:t,boost:e.boost||1};return this._fields.push(n),this},r.Index.prototype.ref=function(t){return this._ref=t,this},r.Index.prototype.add=function(t,e){var n={},i=new r.SortedSet,o=t[this._ref],e=void 0===e?!0:e;this._fields.forEach(function(e){var o=this.pipeline.run(r.tokenizer(t[e.name]));n[e.name]=o,r.SortedSet.prototype.add.apply(i,o)},this),this.documentStore.set(o,i),r.SortedSet.prototype.add.apply(this.corpusTokens,i.toArray());for(var s=0;s<i.length;s++){var a=i.elements[s],h=this._fields.reduce(function(t,e){var i=n[e.name].length;if(!i)return t;var o=n[e.name].filter(function(t){return t===a}).length;return t+o/i*e.boost},0);this.tokenStore.add(a,{ref:o,tf:h})}e&&this.eventEmitter.emit("add",t,this)},r.Index.prototype.remove=function(t,e){var n=t[this._ref],e=void 0===e?!0:e;if(this.documentStore.has(n)){var i=this.documentStore.get(n);this.documentStore.remove(n),i.forEach(function(t){this.tokenStore.remove(t,n)},this),e&&this.eventEmitter.emit("remove",t,this)}},r.Index.prototype.update=function(t,e){var e=void 0===e?!0:e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},r.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var n=this.tokenStore.count(t),i=1;return n>0&&(i=1+Math.log(this.documentStore.length/n)),this._idfCache[e]=i},r.Index.prototype.search=function(t){var e=this.pipeline.run(r.tokenizer(t)),n=new r.Vector,i=[],o=this._fields.reduce(function(t,e){return t+e.boost},0),s=e.some(function(t){return this.tokenStore.has(t)},this);if(!s)return[];e.forEach(function(t,e,s){var a=1/s.length*this._fields.length*o,h=this,l=this.tokenStore.expand(t).reduce(function(e,i){var o=h.corpusTokens.indexOf(i),s=h.idf(i),l=1,u=new r.SortedSet;if(i!==t){var c=Math.max(3,i.length-t.length);l=1/Math.log(c)}return o>-1&&n.insert(o,a*s*l),Object.keys(h.tokenStore.get(i)).forEach(function(t){u.add(t)}),e.union(u)},new r.SortedSet);i.push(l)},this);var a=i.reduce(function(t,e){return t.intersect(e)});return a.map(function(t){return{ref:t,score:n.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})},r.Index.prototype.documentVector=function(t){for(var e=this.documentStore.get(t),n=e.length,i=new r.Vector,o=0;n>o;o++){var s=e.elements[o],a=this.tokenStore.get(s)[t].tf,h=this.idf(s);i.insert(this.corpusTokens.indexOf(s),a*h)}return i},r.Index.prototype.toJSON=function(){return{version:r.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},r.Index.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},/*!
	 * lunr.Store
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.Store=function(){this.store={},this.length=0},r.Store.load=function(t){var e=new this;return e.length=t.length,e.store=Object.keys(t.store).reduce(function(e,n){return e[n]=r.SortedSet.load(t.store[n]),e},{}),e},r.Store.prototype.set=function(t,e){this.has(t)||this.length++,this.store[t]=e},r.Store.prototype.get=function(t){return this.store[t]},r.Store.prototype.has=function(t){return t in this.store},r.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},r.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},/*!
	 * lunr.stemmer
	 * Copyright (C) 2015 Oliver Nightingale
	 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
	 */
r.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,a="^("+o+")?"+r+o+"("+r+")?$",h="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,u=new RegExp(s),c=new RegExp(h),f=new RegExp(a),d=new RegExp(l),p=/^(.+?)(ss|i)es$/,m=/^(.+?)([^s])s$/,v=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,w=new RegExp("([^aeiouylsz])\\1$"),x=new RegExp("^"+o+i+"[^aeiouwxy]$"),k=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,_=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,O=/^(.+?)(s|t)(ion)$/,F=/^(.+?)e$/,N=/ll$/,P=new RegExp("^"+o+i+"[^aeiouwxy]$"),T=function(n){var i,o,r,s,a,h,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,a=m,s.test(n)?n=n.replace(s,"$1$2"):a.test(n)&&(n=n.replace(a,"$1$2")),s=v,a=g,s.test(n)){var T=s.exec(n);s=u,s.test(T[1])&&(s=y,n=n.replace(s,""))}else if(a.test(n)){var T=a.exec(n);i=T[1],a=d,a.test(i)&&(n=i,a=S,h=w,l=x,a.test(n)?n+="e":h.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=k,s.test(n)){var T=s.exec(n);i=T[1],n=i+"i"}if(s=b,s.test(n)){var T=s.exec(n);i=T[1],o=T[2],s=u,s.test(i)&&(n=i+t[o])}if(s=E,s.test(n)){var T=s.exec(n);i=T[1],o=T[2],s=u,s.test(i)&&(n=i+e[o])}if(s=_,a=O,s.test(n)){var T=s.exec(n);i=T[1],s=c,s.test(i)&&(n=i)}else if(a.test(n)){var T=a.exec(n);i=T[1]+T[2],a=c,a.test(i)&&(n=i)}if(s=F,s.test(n)){var T=s.exec(n);i=T[1],s=c,a=f,h=P,(s.test(i)||a.test(i)&&!h.test(i))&&(n=i)}return s=N,a=c,s.test(n)&&a.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return T}(),r.Pipeline.registerFunction(r.stemmer,"stemmer"),/*!
	 * lunr.stopWordFilter
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.stopWordFilter=function(t){return t&&r.stopWordFilter.stopWords[t]!==t?t:void 0},r.stopWordFilter.stopWords={a:"a",able:"able",about:"about",across:"across",after:"after",all:"all",almost:"almost",also:"also",am:"am",among:"among",an:"an",and:"and",any:"any",are:"are",as:"as",at:"at",be:"be",because:"because",been:"been",but:"but",by:"by",can:"can",cannot:"cannot",could:"could",dear:"dear",did:"did","do":"do",does:"does",either:"either","else":"else",ever:"ever",every:"every","for":"for",from:"from",get:"get",got:"got",had:"had",has:"has",have:"have",he:"he",her:"her",hers:"hers",him:"him",his:"his",how:"how",however:"however",i:"i","if":"if","in":"in",into:"into",is:"is",it:"it",its:"its",just:"just",least:"least",let:"let",like:"like",likely:"likely",may:"may",me:"me",might:"might",most:"most",must:"must",my:"my",neither:"neither",no:"no",nor:"nor",not:"not",of:"of",off:"off",often:"often",on:"on",only:"only",or:"or",other:"other",our:"our",own:"own",rather:"rather",said:"said",say:"say",says:"says",she:"she",should:"should",since:"since",so:"so",some:"some",than:"than",that:"that",the:"the",their:"their",them:"them",then:"then",there:"there",these:"these",they:"they","this":"this",tis:"tis",to:"to",too:"too",twas:"twas",us:"us",wants:"wants",was:"was",we:"we",were:"were",what:"what",when:"when",where:"where",which:"which","while":"while",who:"who",whom:"whom",why:"why",will:"will","with":"with",would:"would",yet:"yet",you:"you",your:"your"},r.Pipeline.registerFunction(r.stopWordFilter,"stopWordFilter"),/*!
	 * lunr.trimmer
	 * Copyright (C) 2015 Oliver Nightingale
	 */
r.trimmer=function(t){var e=t.replace(/^\W+/,"").replace(/\W+$/,"");return""===e?void 0:e},r.Pipeline.registerFunction(r.trimmer,"trimmer"),/*!
	 * lunr.stemmer
	 * Copyright (C) 2015 Oliver Nightingale
	 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
	 */
r.TokenStore=function(){this.root={docs:{}},this.length=0},r.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},r.TokenStore.prototype.add=function(t,e,n){var n=n||this.root,i=t[0],o=t.slice(1);return i in n||(n[i]={docs:{}}),0===o.length?(n[i].docs[e.ref]=e,void(this.length+=1)):this.add(o,e,n[i])},r.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,n=0;n<t.length;n++){if(!e[t[n]])return!1;e=e[t[n]]}return!0},r.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,n=0;n<t.length;n++){if(!e[t[n]])return{};e=e[t[n]]}return e},r.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},r.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},r.TokenStore.prototype.remove=function(t,e){if(t){for(var n=this.root,i=0;i<t.length;i++){if(!(t[i]in n))return;n=n[t[i]]}delete n.docs[e]}},r.TokenStore.prototype.expand=function(t,e){var n=this.getNode(t),i=n.docs||{},e=e||[];return Object.keys(i).length&&e.push(t),Object.keys(n).forEach(function(n){"docs"!==n&&e.concat(this.expand(t+n,e))},this),e},r.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(r,s){i=s,o="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==o&&(t.exports=o))}(this,function(){return r})}()}]);